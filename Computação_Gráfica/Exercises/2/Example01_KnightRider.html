<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Knight Rider</title>
  <style>
    html,
    body {
      width: 100%;
      height: auto;
      background: #333333;
    }

    canvas {
      margin: auto;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
    }
  </style>
</head>

<body>
  <canvas id="myCanvas" width="600" height="50" style="border:solid 3px black"></canvas>

  <script>
    const canvas = document.querySelector("#myCanvas");
    const ctx = canvas.getContext("2d");

    const squareWidth = 50;
    let speed = 50; //pixels the square moves each frame

    //CANVAS SIZE
    const W = canvas.width, H = canvas.height;

    let x = 0; let moveRight = true;

    function render() {
      //CLEAR CANVAS
      ctx.fillStyle = "rgba(51,51,51,0.3)";
      ctx.fillRect(0, 0, W, H);

      // UPDATE COLOR
      ctx.fillStyle = getRandomColor();
      // DRAW
      ctx.fillRect(x, 0, 50, 50);

      // UPDATE POSITION
      x += speed;

      // check if it hits the wall
      if(x <= 0 || x >= canvas.width - squareWidth) {
        speed = -speed;
      }

    }

    window.onload = function () {
      window.setInterval(render, 100);
    };


    //helper function
    function getRandomColor() {
      let r = Math.floor(Math.random() * 256);
      let g = Math.floor(Math.random() * 256);
      let b = Math.floor(Math.random() * 256);

      return `rgb(${r},${g},${b})`;
    }

  </script>
</body>

</html>